<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="background-color: #f5edcc;;">
    <nav class="navbar">
        <div class="navbar__container">
            <a href="index.html" id="navbar__logo">
                <img src="https://3di.ee/uus/wp-content/uploads/2020/11/3di-logo-dark.png" alt="Logo" width="200" height="80">
            </a>
            <div class="navbar__toggle" id="mobile-menu">
                <span class="bar"></span> <span class="bar"></span>
                <span class="bar"></span>
            </div>
            <ul class="navbar__menu">
                <li class="navbar__item">
                    <a href="index.html" class="navbar__links"> Avaleht </a>
                </li>
                <li class="navbar__item">
                    <a href="teenused.html" class="navbar__links"> Teenused </a>
                </li>
                <li class="navbar__item">
                    <a href="tech.html" class="navbar__links"> Rent </a>
                </li>
                <li class="navbar__item">
                    <a href="tech.html" class="navbar__links"> E-pood </a>
                </li>
                <li class="navbar__item">
                    <a href="tech.html" class="navbar__links"> Kontakt </a>
                </li>
            </ul>
        </div>
    </nav>
    <body style="background-color:#FFEAB0;">
        <h1> Ehitise joonised puudu?</h1>
        <p> tee tellimus 5 minutiga ning maksa kohe kas või kolmes osas 0 intressiga!</p>



        <div class="form-container">
            <form action="https://formsubmit.co/14eb3a8fd24be27695dd9c6d4e16d115" method="POST" onsubmit="return validateForm()" class="former" >

                <label for="county" class="country">Piirkond</label>
                <label for="property-type" class="type">Tüüp</label>
                <br>
                <select id="county" name="select" class="select">
                    <option value="Harjumaa">Harjumaa</option>
                    <option value="Narva">Narva</option>
                    <option value="Pärnu">Pärnu</option>
                </select>


                <select id="property-type" name="select2" class="select2">
                    <option value="Korter">Korter</option>
                    <option value="Eramaja">Eramaja</option>
                    <option value="Tööstuspind">Tööstuspind</option>
                </select>
                <br><br>
                <br>
                <label for="room-size">Pindala hinnang ruutmeetrites:</label><br>
                <input type="range" min="5" max="200" step="1" value="50" id="room-size" class="slider" name="ruumi suurus">
                <span id="slider-value">50</span> m²
                <br>
                <label for="fname">Eesnimi:</label><br>
                <input type="text" id="fname" name="fname"><br>
                <label for="lname">Perekonnanimi:</label><br>
                <input type="text" id="lname" name="lname"><br>
                <label for="lname">Email:</label><br>
                <input type="text" id="mail" name="mail"><br>
                <label for="checkbox-1"><input type="checkbox" id="checkbox-1" value="100" name="checkbox-group" checked> umbes 2 kuu jooksul joonised kätte</label><br>
                <label for="checkbox-2"><input type="checkbox" id="checkbox-2" value="200" name="checkbox-group"> 2 nädala jooksul joonised kätte</label><br>
                <br>
                <input type="submit" value="Telli" class="telli">
                <p>Kokku: €<span id="total-cost" name="kok">100.00</span></p>
                <br><br>
    
            </form>
        </div>
        <p>Raha tagastus -LINK</p>

        <div id="page">
            <div class="wrapper">
              <div class="before">
                <img class="content-image" src="https://fiverr-res.cloudinary.com/images/q_auto,f_auto/gigs/129395511/original/c0a33721e2384f5558ef8697cd8d241dd3a5eefa/convert-point-cloud-to-2d-drawings-d839.png" draggable="false"/>   </div>
              <div class="after">
                <img class="content-image" src="https://images.ctfassets.net/26961o1141cc/1ntbH068mqsmzD1v7P69hy/d6a023bdc9027478dca19a2b49c66b82/p6.png?w=1200&h=500&fm=webp&q=100" draggable="false"/>
              </div>
              <div class="scroller">
                <svg class="scroller__thumb" xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><polygon points="0 50 37 68 37 32 0 50" style="fill:#fff"/><polygon points="100 50 64 32 64 68 100 50" style="fill:#fff"/></svg>
              </div>
            </div>
            </div>

        <script>

            // I hope this over-commenting helps. Let's do this!
            // Let's use the 'active' variable to let us know when we're using it
            let active = false;

            // First we'll have to set up our event listeners
            // We want to watch for clicks on our scroller
            document.querySelector('.scroller').addEventListener('mousedown',function(){
            active = true;
            // Add our scrolling class so the scroller has full opacity while active
            document.querySelector('.scroller').classList.add('scrolling');
            });
            // We also want to watch the body for changes to the state,
            // like moving around and releasing the click
            // so let's set up our event listeners
            document.body.addEventListener('mouseup',function(){
            active = false;
            document.querySelector('.scroller').classList.remove('scrolling');
            });
            document.body.addEventListener('mouseleave',function(){
            active = false;
            document.querySelector('.scroller').classList.remove('scrolling');
            });

            // Let's figure out where their mouse is at
            document.body.addEventListener('mousemove',function(e){
            if (!active) return;
            // Their mouse is here...
            let x = e.pageX;
            // but we want it relative to our wrapper
            x -= document.querySelector('.wrapper').getBoundingClientRect().left;
            // Okay let's change our state
            scrollIt(x);
            });

            // Let's use this function
            function scrollIt(x){
                let transform = Math.max(0,(Math.min(x,document.querySelector('.wrapper').offsetWidth)));
                document.querySelector('.after').style.width = transform+"px";
                document.querySelector('.scroller').style.left = transform-25+"px";
            }

            // Let's set our opening state based off the width, 
            // we want to show a bit of both images so the user can see what's going on
            scrollIt(150);

            // And finally let's repeat the process for touch events
            // first our middle scroller...
            document.querySelector('.scroller').addEventListener('touchstart',function(){
            active = true;
            document.querySelector('.scroller').classList.add('scrolling');
            });
            document.body.addEventListener('touchend',function(){
            active = false;
            document.querySelector('.scroller').classList.remove('scrolling');
            });
            document.body.addEventListener('touchcancel',function(){
            active = false;
            document.querySelector('.scroller').classList.remove('scrolling');
            });






            var slider = document.getElementById("room-size");
            var county = document.getElementById("county");
            var propertyType = document.getElementById("property-type");
            var checkbox1 = document.getElementById("checkbox-1");
            var checkbox2 = document.getElementById("checkbox-2");
            var output = document.getElementById("total-cost");
            var sliderValue = document.getElementById("slider-value");
    
            slider.oninput = function () {
                sliderValue.innerHTML = slider.value;
                calculateCost();
            }
    
            county.onchange = function () {
                calculateCost();
            }
    
            propertyType.onchange = function () {
                calculateCost();
            }
    
            checkbox1.onclick = function () {
                if (this.checked) {
                    checkbox2.checked = false;
                }
                calculateCost();
            }
    
            checkbox2.onclick = function () {
                if (this.checked) {
                    checkbox1.checked = false;
                }
                calculateCost();
            }
    
            function calculateCost() {
                var roomSize = parseInt(slider.value);
                var cost = roomSize * 2.0;
    
                if (county.value != "Harjumaa") {
                    // Add €50 if the county is not Harjumaa
                    cost += 50;
                }
    
                if (propertyType.value == "Eramaja") {
                    // Korter has a 10% discount
                    cost *= 1.2;
                } else if (propertyType.value == "Tööstuspind") {
                    // Tööstuspind has a 20% premium
                    cost *= 0.9;
                }
    
                if (checkbox1.checked) {
                    cost += 0;
                }
    
                if (checkbox2.checked) {
                    cost += 100;
                }
    
                output.innerHTML = Math.max(45, cost).toFixed(2);
            }

            function validateForm() {
            var email = document.getElementById("mail").value;
            if (email == "") {
                alert("Palun sisestage oma email.");
                return false;
            }
            }

        </script>
    </body>
</body>
</html>